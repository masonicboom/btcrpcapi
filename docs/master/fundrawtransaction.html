<html>
<head>
    <link rel="stylesheet" type="text/css" href="../../style.css">
</head>
<body>
<h1>fundrawtransaction</h1>
<h2><a href="../../cats/rawtransactions.html">rawtransactions</a></h2>
<h2><a href="../../tags/master.html">master</a></h2>

<pre>
fundrawtransaction "hexstring" ( options iswitness )<br/><br/>Add inputs to a transaction until it has enough in value to meet its out value.<br/>This will not modify existing inputs, and will add at most one change output to the outputs.<br/>No existing outputs will be modified unless "subtractFeeFromOutputs" is specified.<br/>Note that inputs which were signed may need to be resigned after completion since in/outputs have been added.<br/>The inputs added will not be signed, use signrawtransaction for that.<br/>Note that all existing inputs must have their previous output transaction be in the wallet.<br/>Note that all inputs selected must be of standard form and P2SH scripts must be<br/>in the wallet using importaddress or addmultisigaddress (to calculate fees).<br/>You can see whether this is the case by checking the "solvable" field in the listunspent output.<br/>Only pay-to-pubkey, multisig, and P2SH versions thereof are currently supported for watch-only<br/><br/>Arguments:<br/>1. "hexstring"           (string, required) The hex string of the raw transaction<br/>2. options                 (object, optional)<br/>   {<br/>     "changeAddress"          (string, optional, default pool address) The bitcoin address to receive the change<br/>     "changePosition"         (numeric, optional, default random) The index of the change output<br/>     "change_type"            (string, optional) The output type to use. Only valid if changeAddress is not specified. Options are "legacy", "p2sh-segwit", and "bech32". Default is set by -changetype.<br/>     "includeWatching"        (boolean, optional, default false) Also select inputs which are watch only<br/>     "lockUnspents"           (boolean, optional, default false) Lock selected unspent outputs<br/>     "feeRate"                (numeric, optional, default not set: makes wallet determine the fee) Set a specific fee rate in " + CURRENCY_UNIT + "/kB<br/>     "subtractFeeFromOutputs" (array, optional) A json array of integers.<br/>                              The fee will be equally deducted from the amount of each specified output.<br/>                              The outputs are specified by their zero-based index, before any change output is added.<br/>                              Those recipients will receive less bitcoins than you enter in their corresponding amount field.<br/>                              If no outputs are specified here, the sender pays the fee.<br/>                                  [vout_index,...]<br/>     "replaceable"            (boolean, optional) Marks this transaction as BIP125 replaceable.<br/>                              Allows this transaction to be replaced by a transaction with higher fees<br/>     "conf_target"            (numeric, optional) Confirmation target (in blocks)<br/>     "estimate_mode"          (string, optional, default=UNSET) The fee estimate mode, must be one of:<br/>         "UNSET"<br/>         "ECONOMICAL"<br/>         "CONSERVATIVE"<br/>   }<br/>                         for backward compatibility: passing in a true instead of an object will result in {"includeWatching":true}<br/>3. iswitness               (boolean, optional) Whether the transaction hex is a serialized witness transaction <br/>                              If iswitness is not present, heuristic tests will be used in decoding<br/><br/>Result:<br/>{<br/>  "hex":       "value", (string)  The resulting raw transaction (hex-encoded string)<br/>  "fee":       n,         (numeric) Fee in " + CURRENCY_UNIT + " the resulting transaction pays<br/>  "changepos": n          (numeric) The position of the added change output, or -1<br/>}<br/><br/>Examples:<br/><br/>Create a transaction with no inputs<br/>> bitcoin-cli createrawtransaction "[]" "{\\"myaddress\\":0.01}"<br/><br/>Add sufficient unsigned inputs to meet the output value<br/>> bitcoin-cli fundrawtransaction "rawtransactionhex"<br/><br/>Sign the transaction<br/>> bitcoin-cli signrawtransaction "fundedtransactionhex"<br/><br/>Send the transaction<br/>> bitcoin-cli sendrawtransaction "signedtransactionhex"<br/>
</pre>

<div class="source">
    Don't trust. Verify. Docs extracted from <a href="https://github.com/bitcoin/bitcoin/blob/f504a1402afd0760e9d348ecc8bad0094aa7d705/src/wallet/rpcwallet.cpp#L2954-L3019">src/wallet/rpcwallet.cpp#L2954-L3019</a>.
</div>
</body>
</html>
