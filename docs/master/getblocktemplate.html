<html>
<head>
    <link rel="stylesheet" type="text/css" href="../../style.css">
</head>
<body>
<h1>getblocktemplate</h1>
<h2><a href="../../cats/mining.html">mining</a></h2>
<h2><a href="../../tags/master.html">master</a></h2>

<pre>
getblocktemplate ( TemplateRequest )<br/><br/>If the request parameters include a 'mode' key, that is used to explicitly select between the default 'template' request or a 'proposal'.<br/>It returns data needed to construct a block to work on.<br/>For full specification, see BIPs 22, 23, 9, and 145:<br/>    https://github.com/bitcoin/bips/blob/master/bip-0022.mediawiki<br/>    https://github.com/bitcoin/bips/blob/master/bip-0023.mediawiki<br/>    https://github.com/bitcoin/bips/blob/master/bip-0009.mediawiki#getblocktemplate_changes<br/>    https://github.com/bitcoin/bips/blob/master/bip-0145.mediawiki<br/><br/>Arguments:<br/>1. template_request         (json object, optional) A json object in the following spec<br/>     {<br/>       "mode":"template"    (string, optional) This must be set to "template", "proposal" (see BIP 23), or omitted<br/>       "capabilities":[     (array, optional) A list of strings<br/>           "support"          (string) client side supported feature, 'longpoll', 'coinbasetxn', 'coinbasevalue', 'proposal', 'serverlist', 'workid'<br/>           ,...<br/>       ],<br/>       "rules":[            (array, optional) A list of strings<br/>           "support"          (string) client side supported softfork deployment<br/>           ,...<br/>       ]<br/>     }<br/><br/><br/>Result:<br/>{<br/>  "version" : n,                    (numeric) The preferred block version<br/>  "rules" : [ "rulename", ... ],    (array of strings) specific block rules that are to be enforced<br/>  "vbavailable" : {                 (json object) set of pending, supported versionbit (BIP 9) softfork deployments<br/>      "rulename" : bitnumber          (numeric) identifies the bit number as indicating acceptance and readiness for the named softfork rule<br/>      ,...<br/>  },<br/>  "vbrequired" : n,                 (numeric) bit mask of versionbits the server requires set in submissions<br/>  "previousblockhash" : "xxxx",     (string) The hash of current highest block<br/>  "transactions" : [                (array) contents of non-coinbase transactions that should be included in the next block<br/>      {<br/>         "data" : "xxxx",             (string) transaction data encoded in hexadecimal (byte-for-byte)<br/>         "txid" : "xxxx",             (string) transaction id encoded in little-endian hexadecimal<br/>         "hash" : "xxxx",             (string) hash encoded in little-endian hexadecimal (including witness data)<br/>         "depends" : [                (array) array of numbers <br/>             n                          (numeric) transactions before this one (by 1-based index in 'transactions' list) that must be present in the final block if this one is<br/>             ,...<br/>         ],<br/>         "fee": n,                    (numeric) difference in value between transaction inputs and outputs (in satoshis); for coinbase transactions, this is a negative Number of the total collected block fees (ie, not including the block subsidy); if key is not present, fee is unknown and clients MUST NOT assume there isn't one<br/>         "sigops" : n,                (numeric) total SigOps cost, as counted for purposes of block limits; if key is not present, sigop cost is unknown and clients MUST NOT assume it is zero<br/>         "weight" : n,                (numeric) total transaction weight, as counted for purposes of block limits<br/>      }<br/>      ,...<br/>  ],<br/>  "coinbaseaux" : {                 (json object) data that should be included in the coinbase's scriptSig content<br/>      "flags" : "xx"                  (string) key name is to be ignored, and value included in scriptSig<br/>  },<br/>  "coinbasevalue" : n,              (numeric) maximum allowable input to coinbase transaction, including the generation award and transaction fees (in satoshis)<br/>  "coinbasetxn" : { ... },          (json object) information for coinbase transaction<br/>  "target" : "xxxx",                (string) The hash target<br/>  "mintime" : xxx,                  (numeric) The minimum timestamp appropriate for next block time in seconds since epoch (Jan 1 1970 GMT)<br/>  "mutable" : [                     (array of string) list of ways the block template may be changed <br/>     "value"                          (string) A way the block template may be changed, e.g. 'time', 'transactions', 'prevblock'<br/>     ,...<br/>  ],<br/>  "noncerange" : "00000000ffffffff",(string) A range of valid nonces<br/>  "sigoplimit" : n,                 (numeric) limit of sigops in blocks<br/>  "sizelimit" : n,                  (numeric) limit of block size<br/>  "weightlimit" : n,                (numeric) limit of block weight<br/>  "curtime" : ttt,                  (numeric) current timestamp in seconds since epoch (Jan 1 1970 GMT)<br/>  "bits" : "xxxxxxxx",              (string) compressed target of next block<br/>  "height" : n                      (numeric) The height of the next block<br/>}<br/><br/>Examples:<br/>> bitcoin-cli getblocktemplate <br/>> curl --user myusername --data-binary '{"jsonrpc": "1.0", "id":"curltest", "method": "getblocktemplate", "params": [] }' -H 'content-type: text/plain;' http://127.0.0.1:8332/<br/>
</pre>

<div class="source">
    Don't trust. Verify. Docs extracted from <a href="https://github.com/bitcoin/bitcoin/blob/f504a1402afd0760e9d348ecc8bad0094aa7d705/src/rpc/mining.cpp#L290-L366">src/rpc/mining.cpp#L290-L366</a>.
</div>
</body>
</html>
